/* ===========================
   App.css
   =========================== */
/* --------- Base resets --------- */
* {
  box-sizing: border-box;
}
html,
body,
#root {
  height: 100%;
}
figure {
  margin: 0;
}
img {
  display: block;
}
html,
body {
  overflow-x: hidden;
}

/* --------- Design tokens --------- */
:root {
  /* layout */
  --content-max: clamp(1100px, 86vw, 1680px);
  --page-pad: clamp(12px, 4vw, 20px); /* page gutters on small screens */
  --cal-height: 100px;
  --ink: #fef5e4;
  --ink-strong: #fef5e6;
  --accent: #e8473d; /* title red */
  --card-red-1: #e8463c;
  --card-red-2: #822722;
  --plate-bg: #000;

  /* typography */
  --font-title: "Bebas Neue", sans-serif;
  --font-body:
    "Inter", system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial,
    sans-serif;

  /* Responsive type tokens (easy knobs) */
  --ft-min: 20px; /* font title minimum */
  --ft-max: 32px; /* font title cap */
  --ft-fluid-vw: 2.2vw; /* title growth vs viewport */
  --ft-fluid-cq: 2cqi; /* title growth vs container (if supported) */

  --fb-min: 14px; /* body minimum */
  --fb-max: 18px; /* body cap */
  --fb-fluid-vw: 1.1vw; /* body growth vs viewport */
  --fb-fluid-cq: 0.95cqi; /* body growth vs container (if supported) */

  /* Optional global multiplier if you ever want to bump everything quickly */
  --type-scale: 1;

  /* movie card metrics */
  --gap-plate-to-copy: 37px;
  --card-bottom-pad: 40px;
  --plate-aspect: 16 / 9;
  --plate-max: clamp(420px, 48vw, 680px);
  --badge-pad-y: 14px;
  --badge-pad-x: 14px;
  --badge-radius: 4px;
  --badge-bg: #424242;
  --badge-border: rgba(0, 0, 0, 0.54);
  --desc-size: clamp(14px, 1.8vw, 18px);
  --desc-line: 1.55;
  --desc-color: rgba(254, 245, 228, 0.92);

  --poster-col: clamp(540px, 48vw, 920px);
}

/* font titles */
.movie-title,
.cal-header,
h1,
h2,
h3 {
  font-family: var(--font-title);
  font-weight: 400;
  letter-spacing: 0.02em;
  color: var(--ink-strong);
  margin: 0 0 8px 0;

  font-size: clamp(
    calc(var(--ft-min) * var(--type-scale)),
    calc(var(--ft-fluid-vw) * var(--type-scale)),
    calc(var(--ft-max) * var(--type-scale))
  );
}

/* font body */
body,
.sidebar,
.movie-copy .description {
  font-family: var(--font-body);
  font-weight: 400;
  line-height: var(--desc-line, 1.55);
  color: var(--desc-color, rgba(254, 245, 228, 0.92));

  font-size: clamp(
    calc(var(--fb-min) * var(--type-scale)),
    calc(var(--fb-fluid-vw) * var(--type-scale)),
    calc(var(--fb-max) * var(--type-scale))
  );
}

/* --------- App layout --------- */
.app {
  display: flex;
  min-height: 100vh;
  width: 100%;
}

.content {
  flex: 1 1 auto;
  min-width: 0;
  background: #262424;
  /* 0 top so the calendar sits flush; symmetric horizontal gutters; 64px bottom */
  padding: 0 var(--page-pad) 64px;
}

.content-inner {
  max-width: var(--content-max);
  margin: 0 auto;
}

/* Sticky calendar */
.sticky-cal {
  position: sticky;
  top: 0;
  z-index: 10;
  margin-left: calc(-1 * var(--page-pad));
  margin-right: calc(-1 * var(--page-pad));
}

/* Improve anchor scroll target for movie sections */
.movie-section {
  scroll-margin-top: calc(var(--cal-height, 0px) + 8px);
}

/* Guard against accidental overflow */
html,
body {
  overflow-x: hidden;
}

/* --------- Mobile tweaks --------- */
@media (max-width: 900px) {
  /* Easiest: stop using flex on the wrapper so children stack naturally */
  .app {
    display: block; /* instead of flex */
  }

  /* Hard-override any left-rail sizing from Sidebar.css */
  .app .sidebar {
    position: static !important; /* no sticky on mobile */
    flex: 0 1 auto !important; /* let it size like a normal block */
    width: auto !important;
    min-width: 0 !important;
    max-width: none !important;
    padding: 24px var(--page-pad, 20px) !important;
    height: auto !important;
    min-height: 0 !important;
  }

  /* Keep the right column padded and full width */
  .content {
    padding: 0 var(--page-pad, 20px) 56px;
  }

  /* Make the calendar bleed edge-to-edge within .content padding */
  .sticky-cal {
    margin-left: calc(-1 * var(--page-pad, 20px));
    margin-right: calc(-1 * var(--page-pad, 20px));
  }
}
